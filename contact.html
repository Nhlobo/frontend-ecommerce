<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact Premium Hair Wigs & Extensions - Get in touch with us. Phone: +27 71 555 1234. Located in Protea Glen, Soweto, Johannesburg.">
    <meta name="keywords" content="contact, hair wigs, customer service, Soweto, Johannesburg, support">
    <meta name="author" content="Premium Hair Wigs & Extensions Pty (Ltd)">
    <title>Contact Us - Premium Hair Wigs & Extensions | Get In Touch</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="responsive.css">
    <link rel="stylesheet" href="components.css">
    
    <style>
        .contact-hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            padding: 4rem 0;
            text-align: center;
        }
        
        .contact-hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .contact-content {
            padding: 4rem 0;
        }
        
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 4rem;
        }
        
        @media (max-width: 768px) {
            .contact-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .contact-form-section {
            background: var(--white);
            padding: 2.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .contact-form-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--secondary);
            font-weight: 500;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--accent);
            border-radius: 5px;
            font-family: var(--font-body);
            font-size: 1rem;
            transition: border-color var(--transition-fast);
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .form-error {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 0.3rem;
            display: none;
        }
        
        .form-group.error input,
        .form-group.error select,
        .form-group.error textarea {
            border-color: var(--error);
        }
        
        .form-group.error .form-error {
            display: block;
        }
        
        .submit-btn {
            background: var(--primary);
            color: var(--white);
            padding: 1rem 2rem;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background var(--transition-fast);
        }
        
        .submit-btn:hover {
            background: var(--secondary);
        }
        
        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .submit-btn.loading::after {
            content: ' ...';
            animation: dots 1.5s steps(4, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: ' .'; }
            40% { content: ' ..'; }
            60%, 100% { content: ' ...'; }
        }
        
        .contact-info-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .info-card {
            background: var(--white);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            align-items: start;
            gap: 1.5rem;
        }
        
        .info-icon {
            font-size: 2rem;
            color: var(--primary);
            min-width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent);
            border-radius: 50%;
        }
        
        .info-content h3 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }
        
        .info-content p {
            color: var(--dark);
            line-height: 1.6;
        }
        
        .info-content a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .info-content a:hover {
            text-decoration: underline;
        }
        
        .map-section {
            margin: 4rem 0;
            background: var(--white);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .map-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .map-container {
            width: 100%;
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid var(--accent);
        }
        
        .map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .social-section {
            text-align: center;
            padding: 3rem 0;
            background: var(--light);
            border-radius: 10px;
            margin: 3rem 0;
        }
        
        .social-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .social-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            transition: transform var(--transition-fast);
        }
        
        .social-icon:hover {
            transform: scale(1.1);
        }
        
        .social-icon.facebook { background: #1877f2; }
        .social-icon.instagram { background: #e4405f; }
        .social-icon.twitter { background: #1da1f2; }
        .social-icon.whatsapp { background: #25d366; }
        
        .faq-section {
            padding: 4rem 0;
        }
        
        .faq-section h2 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .faq-accordion {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-item {
            background: var(--white);
            margin-bottom: 1rem;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .faq-question {
            width: 100%;
            padding: 1.5rem;
            background: var(--white);
            border: none;
            text-align: left;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--secondary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background var(--transition-fast);
        }
        
        .faq-question:hover {
            background: var(--light);
        }
        
        .faq-question i {
            color: var(--primary);
            transition: transform var(--transition-fast);
        }
        
        .faq-question.active i {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--transition-normal);
        }
        
        .faq-answer.active {
            max-height: 500px;
        }
        
        .faq-answer-content {
            padding: 0 1.5rem 1.5rem;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .response-notice {
            background: var(--accent);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 2rem;
        }
        
        .response-notice i {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .success-message {
            background: var(--success);
            color: var(--white);
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            display: none;
        }
        
        .error-message {
            background: var(--error);
            color: var(--white);
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            display: none;
        }
    </style>
</head>
<body>
    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <div class="loader-logo">
                <img src="assets/images/logo.png" alt="Company Logo" style="max-width: 200px; height: auto;" onerror="this.style.display='none';">
            </div>
            <div class="loader-spinner"></div>
            <p class="loader-text">Loading...</p>
        </div>
    </div>

    <div class="banner">
        Free Shipping on Orders Above R1,500
    </div>

    <nav>
        <div class="logo">
            <a href="index.html">
                <img src="assets/images/logo.png" alt="Company Logo" class="logo-image" onerror="this.style.display='none';">
            </a>
        </div>

        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <ul class="nav-links" id="navLinks">
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html" class="active">Contact</a></li>
            <li><a href="account.html">My Account</a></li>
        </ul>

        <div class="nav-actions">
            <a href="wishlist.html" class="icon-link">
                <i class="fas fa-heart"></i>
                <span class="badge" id="wishlistCount">0</span>
            </a>
            <a href="cart.html" class="icon-link">
                <i class="fas fa-shopping-cart"></i>
                <span class="badge" id="cartCount">0</span>
            </a>
            <div id="authArea"></div>
        </div>
    </nav>

    <section class="contact-hero">
        <div class="container">
            <h1>Get In Touch</h1>
            <p>We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
        </div>
    </section>

    <section class="contact-content">
        <div class="container">
            <div class="contact-grid">
                <div class="contact-form-section">
                    <h2>Send Us a Message</h2>
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle"></i> Your message has been sent successfully! We'll get back to you soon.
                    </div>
                    <div class="error-message" id="errorMessage">
                        <i class="fas fa-exclamation-circle"></i> <span id="errorText">Something went wrong. Please try again.</span>
                    </div>
                    <form id="contactForm">
                        <input type="hidden" id="csrfToken" name="csrf_token">
                        
                        <div class="form-group">
                            <label for="name">Full Name *</label>
                            <input type="text" id="name" name="name" required>
                            <span class="form-error">Please enter your name</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address *</label>
                            <input type="email" id="email" name="email" required>
                            <span class="form-error">Please enter a valid email address</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" placeholder="+27 XX XXX XXXX">
                            <span class="form-error">Please enter a valid phone number</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">Subject *</label>
                            <select id="subject" name="subject" required>
                                <option value="">Select a subject</option>
                                <option value="general">General Inquiry</option>
                                <option value="order">Order Status</option>
                                <option value="product">Product Question</option>
                                <option value="return">Returns & Exchanges</option>
                                <option value="complaint">Complaint</option>
                                <option value="feedback">Feedback</option>
                            </select>
                            <span class="form-error">Please select a subject</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" required></textarea>
                            <span class="form-error">Please enter your message (minimum 10 characters)</span>
                        </div>
                        
                        <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
                    </form>
                    
                    <div class="response-notice">
                        <i class="fas fa-clock"></i>
                        <p><strong>Response Time:</strong> We typically respond within 24 hours during business days.</p>
                    </div>
                </div>
                
                <div class="contact-info-section">
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="info-content">
                            <h3>Phone</h3>
                            <p><a href="tel:+27715551234">+27 71 555 1234</a></p>
                            <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">
                                Available Mon-Fri: 09:00-18:00<br>
                                Sat: 09:00-14:00
                            </p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="info-content">
                            <h3>Email</h3>
                            <p><a href="mailto:info@premiumhairsa.co.za">info@premiumhairsa.co.za</a></p>
                            <p style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">
                                We'll respond within 24 hours
                            </p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="info-content">
                            <h3>Visit Us</h3>
                            <p>123 Luxury Lane, Protea Glen<br>
                            Soweto, Johannesburg<br>
                            Gauteng, 1818<br>
                            South Africa</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="info-content">
                            <h3>Business Hours</h3>
                            <p>
                                <strong>Monday - Friday:</strong> 09:00 - 18:00<br>
                                <strong>Saturday:</strong> 09:00 - 14:00<br>
                                <strong>Sunday:</strong> Closed
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="map-section container">
        <h2>Find Us on the Map</h2>
        <div class="map-container">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d14337.345678901234!2d27.8544!3d-26.2485!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1e95a6d20c7f1111%3A0x2222222222222222!2sProtea%20Glen%2C%20Soweto%2C%20Johannesburg!5e0!3m2!1sen!2sza!4v1234567890123!5m2!1sen!2sza" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
                title="Premium Hair Wigs & Extensions Location">
            </iframe>
        </div>
    </section>

    <section class="social-section container">
        <h2>Connect With Us</h2>
        <p style="margin-bottom: 2rem; color: #666;">Follow us on social media for updates, promotions, and hair inspiration</p>
        <div class="social-icons">
            <a href="https://facebook.com/premiumhairsa" target="_blank" class="social-icon facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://instagram.com/premiumhairsa" target="_blank" class="social-icon instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://twitter.com/premiumhairsa" target="_blank" class="social-icon twitter">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://wa.me/27715551234" target="_blank" class="social-icon whatsapp">
                <i class="fab fa-whatsapp"></i>
            </a>
        </div>
    </section>

    <section class="faq-section">
        <div class="container">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-accordion">
                <div class="faq-item">
                    <button class="faq-question">
                        <span>What is your return policy?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            We offer a 7-day return policy on all products. Items must be unused, in original packaging, 
                            and with all tags attached. Please contact us within 7 days of receiving your order to initiate a return.
                        </div>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        <span>How long does delivery take?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            Standard delivery takes 2-5 business days across South Africa. Orders are processed within 24 hours. 
                            You'll receive a tracking number once your order ships. Free shipping on orders above R1,500.
                        </div>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Are your products authentic human hair?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            Yes, all our products are made from 100% authentic human hair. We source our hair responsibly 
                            and ensure the highest quality standards. Each product comes with a certificate of authenticity.
                        </div>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        <span>What payment methods do you accept?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            We accept all major credit and debit cards through our secure PayFast payment gateway. 
                            We also accept EFT payments. All transactions are encrypted and secure.
                        </div>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Can I track my order?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            Yes! Once your order ships, you'll receive an email with a tracking number. You can also track 
                            your order by logging into your account and viewing your order history.
                        </div>
                    </div>
                </div>
                
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Do you offer international shipping?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            Currently, we only ship within South Africa. However, we're working on expanding our shipping 
                            options to include international destinations. Stay tuned for updates!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Premium Hair Wigs & Extensions</h3>
                <p>Premium Hair Wigs & Extensions Pty (Ltd)</p>
                <p>CIPC & VAT Registered</p>
                <p>POPIA Compliant</p>
                <div class="social-links">
                    <a href="https://facebook.com/premiumhairsa" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://instagram.com/premiumhairsa" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com/premiumhairsa" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://wa.me/27715551234" target="_blank"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="shop.html">Shop All</a></li>
                    <li><a href="index.html#sale">Sale</a></li>
                    <li><a href="account.html">Track Order</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Shipping Information</a></li>
                    <li><a href="#">Returns & Exchanges</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>üìç 123 Luxury Lane, Protea Glen<br>Soweto, Johannesburg, Gauteng, 1818</p>
                <p>üìû +27 71 555 1234</p>
                <p>‚úâÔ∏è info@premiumhairsa.co.za</p>
                <p><strong>Hours:</strong><br>Mon-Fri: 09:00-18:00<br>Sat: 09:00-14:00</p>
            </div>
            
            <div class="footer-section">
                <h3>Newsletter</h3>
                <form class="newsletter-form" id="newsletterForm">
                    <input type="email" id="newsletterEmail" placeholder="Your email" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Premium Hair Wigs & Extensions Pty (Ltd). All rights reserved. | CIPC Registered | VAT Registered | POPIA Compliant</p>
        </div>
    </footer>

    <script src="js/config.js"></script>
    <script src="js/security.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script>
        let submissionCount = 0;
        const MAX_SUBMISSIONS = 3;
        const RATE_LIMIT_WINDOW = 3600000; // 1 hour in milliseconds
        
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const loader = document.getElementById('pageLoader');
                if (loader) loader.style.display = 'none';
            }, 500);

            const hamburger = document.getElementById('hamburger');
            const navLinks = document.getElementById('navLinks');
            
            if (hamburger) {
                hamburger.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                    hamburger.classList.toggle('active');
                });
            }

            // Generate CSRF token
            if (typeof generateCSRFToken === 'function') {
                document.getElementById('csrfToken').value = generateCSRFToken();
            }

            // FAQ Accordion
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const isActive = question.classList.contains('active');
                    
                    faqQuestions.forEach(q => {
                        q.classList.remove('active');
                        q.nextElementSibling.classList.remove('active');
                    });
                    
                    if (!isActive) {
                        question.classList.add('active');
                        question.nextElementSibling.classList.add('active');
                    }
                });
            });

            // Contact Form Submission
            const contactForm = document.getElementById('contactForm');
            contactForm.addEventListener('submit', handleFormSubmit);

            // Newsletter Form
            const newsletterForm = document.getElementById('newsletterForm');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = document.getElementById('newsletterEmail').value;
                    alert('Thank you for subscribing!');
                    newsletterForm.reset();
                });
            }
        });

        function handleFormSubmit(e) {
            e.preventDefault();
            
            // Rate limiting check
            if (submissionCount >= MAX_SUBMISSIONS) {
                showError('Too many submissions. Please try again later.');
                return;
            }
            
            // Validate form
            if (!validateForm()) {
                return;
            }
            
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');
            submitBtn.textContent = 'Sending';
            
            // Sanitize inputs
            const formData = {
                name: sanitizeInput(document.getElementById('name').value),
                email: sanitizeInput(document.getElementById('email').value),
                phone: sanitizeInput(document.getElementById('phone').value),
                subject: sanitizeInput(document.getElementById('subject').value),
                message: sanitizeInput(document.getElementById('message').value),
                csrf_token: document.getElementById('csrfToken').value,
                timestamp: Date.now()
            };
            
            // Simulate API call
            setTimeout(() => {
                submissionCount++;
                
                // Reset rate limit counter after 1 hour
                setTimeout(() => {
                    submissionCount = Math.max(0, submissionCount - 1);
                }, RATE_LIMIT_WINDOW);
                
                // Show success message
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
                
                // Reset form
                document.getElementById('contactForm').reset();
                
                // Reset button
                submitBtn.disabled = false;
                submitBtn.classList.remove('loading');
                submitBtn.textContent = 'Send Message';
                
                // Hide success message after 5 seconds
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
                
                // Log to console (in production, this would be sent to server)
                console.log('Contact form submitted:', formData);
            }, 1500);
        }

        function validateForm() {
            let isValid = true;
            
            // Validate name
            const name = document.getElementById('name');
            const nameGroup = name.closest('.form-group');
            if (name.value.trim().length < 2) {
                nameGroup.classList.add('error');
                isValid = false;
            } else {
                nameGroup.classList.remove('error');
            }
            
            // Validate email
            const email = document.getElementById('email');
            const emailGroup = email.closest('.form-group');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email.value)) {
                emailGroup.classList.add('error');
                isValid = false;
            } else {
                emailGroup.classList.remove('error');
            }
            
            // Validate phone (optional but if provided should be valid)
            const phone = document.getElementById('phone');
            const phoneGroup = phone.closest('.form-group');
            if (phone.value && !/^[+]?[\d\s-()]{10,}$/.test(phone.value)) {
                phoneGroup.classList.add('error');
                isValid = false;
            } else {
                phoneGroup.classList.remove('error');
            }
            
            // Validate subject
            const subject = document.getElementById('subject');
            const subjectGroup = subject.closest('.form-group');
            if (!subject.value) {
                subjectGroup.classList.add('error');
                isValid = false;
            } else {
                subjectGroup.classList.remove('error');
            }
            
            // Validate message
            const message = document.getElementById('message');
            const messageGroup = message.closest('.form-group');
            if (message.value.trim().length < 10) {
                messageGroup.classList.add('error');
                isValid = false;
            } else {
                messageGroup.classList.remove('error');
            }
            
            return isValid;
        }

        function sanitizeInput(input) {
            if (typeof input !== 'string') return '';
            
            let sanitized = input;
            
            // Remove HTML special characters
            sanitized = sanitized.replace(/[<>"'`]/g, '');
            
            // Remove dangerous protocols in one comprehensive pass
            sanitized = sanitized.replace(/\b(?:javascript|data|vbscript|file|about):/gi, '');
            
            // Remove all event handler patterns in a comprehensive way
            // This removes the entire "onXXX" word to prevent partial matches
            sanitized = sanitized.replace(/\bon[a-z]+(?:\s*[=(])?/gi, '');
            
            // Encode ampersands
            sanitized = sanitized.replace(/&/g, '&amp;');
            
            return sanitized.trim();
        }

        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            const successMessage = document.getElementById('successMessage');
            
            errorText.textContent = message;
            errorMessage.style.display = 'block';
            successMessage.style.display = 'none';
            
            setTimeout(() => {
                errorMessage.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
