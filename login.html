<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Login to Premium Hair Wigs & Extensions - Access your account, track orders, manage wishlist, and enjoy exclusive member benefits. Secure login with CSRF protection.">
    <meta name="keywords" content="login, customer account, hair wigs login, premium hair extensions, member area, South Africa">
    <meta name="author" content="Premium Hair Wigs & Extensions Pty (Ltd)">
    <meta name="robots" content="noindex, nofollow">
    <title>Login - Premium Hair Wigs & Extensions | Secure Customer Access</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="components.css">
    <link rel="stylesheet" href="responsive.css">
    
    <style>
        /* Login Page Specific Styles */
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
            background: linear-gradient(135deg, rgba(139, 90, 43, 0.05) 0%, rgba(101, 67, 33, 0.05) 100%);
        }

        .login-wrapper {
            max-width: 500px;
            width: 100%;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .login-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2.5rem 2rem;
            text-align: center;
        }

        .login-header h1 {
            margin: 0 0 0.5rem 0;
            font-size: 2rem;
            font-family: 'Cormorant Garamond', serif;
        }

        .login-header p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .login-body {
            padding: 2.5rem 2rem;
        }

        .security-badge {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9rem;
        }

        .security-badge i {
            color: var(--success);
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group label .required {
            color: #dc3545;
        }

        .input-wrapper {
            position: relative;
        }

        .input-wrapper input {
            width: 100%;
            padding: 0.875rem 1rem;
            padding-right: 3rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(139, 90, 43, 0.1);
        }

        .input-wrapper input.error {
            border-color: #dc3545;
        }

        .input-wrapper .input-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }

        .toggle-password {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6c757d;
            cursor: pointer;
            padding: 0.5rem;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .toggle-password:hover {
            color: var(--primary);
        }

        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 1.5rem 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-group label {
            margin: 0;
            cursor: pointer;
            font-weight: 400;
        }

        .rate-limit-warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: none;
        }

        .rate-limit-warning.show {
            display: block;
        }

        .rate-limit-warning i {
            color: #856404;
            margin-right: 0.5rem;
        }

        .rate-limit-warning p {
            margin: 0;
            color: #856404;
            font-size: 0.9rem;
        }

        .btn-login {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-login:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(139, 90, 43, 0.3);
        }

        .btn-login:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-login .btn-text {
            display: inline-block;
            transition: opacity 0.3s ease;
        }

        .btn-login.loading .btn-text {
            opacity: 0;
        }

        .btn-login .spinner {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        .btn-login.loading .spinner {
            display: block;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .form-links {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }

        .form-links a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .form-links a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 2rem 0;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e9ecef;
        }

        .divider::before {
            margin-right: 1rem;
        }

        .divider::after {
            margin-left: 1rem;
        }

        .social-login {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .btn-social {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            font-weight: 500;
        }

        .btn-social:hover {
            border-color: #ced4da;
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-social i {
            font-size: 1.25rem;
        }

        .btn-google {
            color: #db4437;
        }

        .btn-facebook {
            color: #4267B2;
        }

        .register-link {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e9ecef;
            font-size: 0.95rem;
        }

        .register-link a {
            color: var(--primary);
            font-weight: 600;
            text-decoration: none;
        }

        .register-link a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .login-header {
                padding: 2rem 1.5rem;
            }

            .login-header h1 {
                font-size: 1.75rem;
            }

            .login-body {
                padding: 2rem 1.5rem;
            }

            .form-links {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
        }

        /* Back to home link */
        .back-to-home {
            position: absolute;
            top: 1rem;
            left: 1rem;
            z-index: 10;
        }

        .btn-back {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 1.25rem;
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-back:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 90, 43, 0.3);
        }

        @media (max-width: 768px) {
            .back-to-home {
                position: static;
                padding: 1rem;
                background: white;
                border-bottom: 1px solid #e9ecef;
            }

            .btn-back {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <!-- Back to Home Button -->
    <div class="back-to-home">
        <a href="index.html" class="btn-back">
            <i class="fas fa-arrow-left"></i>
            Back to Home
        </a>
    </div>

    <!-- Login Container -->
    <div class="login-container">
        <div class="login-wrapper">
            <!-- Login Header -->
            <div class="login-header">
                <h1><i class="fas fa-lock"></i> Secure Login</h1>
                <p>Access your Premium Hair account</p>
            </div>

            <!-- Login Body -->
            <div class="login-body">
                <!-- Security Badge -->
                <div class="security-badge">
                    <i class="fas fa-shield-alt"></i>
                    <div>
                        <strong>Secure Connection</strong>
                        <p style="margin: 0; font-size: 0.85rem; color: #6c757d;">Your information is protected with industry-standard encryption</p>
                    </div>
                </div>

                <!-- Rate Limit Warning -->
                <div id="rateLimitWarning" class="rate-limit-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p id="rateLimitMessage">You have <strong id="attemptsRemaining">3</strong> login attempts remaining</p>
                </div>

                <!-- Login Form -->
                <form id="loginForm" novalidate>
                    <!-- CSRF Token -->
                    <input type="hidden" id="csrfToken" name="csrfToken" value="">

                    <!-- Email/Username Field -->
                    <div class="form-group">
                        <label for="loginEmail">
                            Email or Username <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <input 
                                type="text" 
                                id="loginEmail" 
                                name="email" 
                                placeholder="Enter your email or username"
                                autocomplete="username"
                                required
                            >
                            <span class="input-icon">
                                <i class="fas fa-user"></i>
                            </span>
                        </div>
                        <div class="error-message" id="emailError">Please enter a valid email or username</div>
                    </div>

                    <!-- Password Field -->
                    <div class="form-group">
                        <label for="loginPassword">
                            Password <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <input 
                                type="password" 
                                id="loginPassword" 
                                name="password" 
                                placeholder="Enter your password"
                                autocomplete="current-password"
                                required
                            >
                            <button type="button" class="toggle-password" id="togglePassword" aria-label="Toggle password visibility">
                                <i class="fas fa-eye" id="toggleIcon"></i>
                            </button>
                        </div>
                        <div class="error-message" id="passwordError">Password must be at least 8 characters</div>
                    </div>

                    <!-- Remember Me & Forgot Password -->
                    <div class="checkbox-group">
                        <input type="checkbox" id="rememberMe" name="rememberMe">
                        <label for="rememberMe">Remember me for 30 days</label>
                    </div>

                    <!-- Login Button -->
                    <button type="submit" class="btn-login" id="loginButton">
                        <span class="btn-text">
                            <i class="fas fa-sign-in-alt"></i> Login to Account
                        </span>
                        <span class="spinner"></span>
                    </button>

                    <!-- Form Links -->
                    <div class="form-links">
                        <a href="forgot-password.html">
                            <i class="fas fa-key"></i> Forgot Password?
                        </a>
                        <a href="register.html">
                            <i class="fas fa-user-plus"></i> Create Account
                        </a>
                    </div>
                </form>

                <!-- Divider -->
                <div class="divider">Or continue with</div>

                <!-- Social Login -->
                <div class="social-login">
                    <button type="button" class="btn-social btn-google" id="googleLogin">
                        <i class="fab fa-google"></i>
                        Continue with Google
                    </button>
                    <button type="button" class="btn-social btn-facebook" id="facebookLogin">
                        <i class="fab fa-facebook-f"></i>
                        Continue with Facebook
                    </button>
                </div>

                <!-- Register Link -->
                <div class="register-link">
                    Don't have an account? <a href="register.html">Sign up now</a> and enjoy exclusive benefits!
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="margin-top: 0;">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Premium Hair Wigs & Extensions</h3>
                <p>Premium Hair Wigs & Extensions Pty (Ltd)</p>
                <p>CIPC & VAT Registered</p>
                <p>POPIA Compliant</p>
                <div class="social-links">
                    <a href="https://facebook.com/premiumhairsa" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://instagram.com/premiumhairsa" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com/premiumhairsa" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://wa.me/27715551234" target="_blank"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#shop">Shop All</a></li>
                    <li><a href="index.html#sale">Sale</a></li>
                    <li><a href="index.html#about">About Us</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Shipping Information</a></li>
                    <li><a href="#">Returns & Exchanges</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>üìç 123 Luxury Lane, Protea Glen<br>Soweto, Johannesburg, Gauteng, 1818</p>
                <p>üìû +27 71 555 1234</p>
                <p>‚úâÔ∏è info@premiumhairsa.co.za</p>
                <p><strong>Hours:</strong><br>Mon-Fri: 09:00-18:00<br>Sat: 09:00-14:00</p>
            </div>
            
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Stay updated with our latest products and offers</p>
                <form class="newsletter-form" id="newsletterForm">
                    <input type="email" id="newsletterEmail" placeholder="Your email" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Premium Hair Wigs & Extensions Pty (Ltd). All rights reserved. | CIPC Registered | VAT Registered | POPIA Compliant</p>
        </div>
    </footer>

    <!-- Scripts in correct order -->
    <script src="js/config.js"></script>
    <script src="js/security.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <!-- Note: app.js is not needed for standalone login page -->

    <!-- Login Page Initialization Script -->
    <script>
        // Login Page Specific Logic
        (function() {
            'use strict';

            // State management
            const loginState = {
                loginAttempts: 0,
                maxAttempts: 5,
                lockoutTime: 15 * 60 * 1000, // 15 minutes
                lastAttemptTime: null,
                isLocked: false
            };

            // Initialize on page load
            document.addEventListener('DOMContentLoaded', function() {
                initializeAuthService();
                initializeSecurity();
                initializeLoginForm();
                loadLoginState();
                checkIfAlreadyLoggedIn();
            });

            // Initialize Auth Service
            function initializeAuthService() {
                if (typeof APIService !== 'undefined' && typeof AuthService !== 'undefined' && typeof API_CONFIG !== 'undefined' && typeof SECURITY_CONFIG !== 'undefined') {
                    const apiService = new APIService({ API_CONFIG, APP_CONFIG, BUSINESS_INFO });
                    const authService = new AuthService(apiService, SECURITY_CONFIG);
                    window.Auth = authService;
                }
            }

            // Initialize security features
            function initializeSecurity() {
                // Generate CSRF token
                if (typeof window.Security !== 'undefined' && window.Security.generateCSRFToken) {
                    const csrfToken = window.Security.generateCSRFToken();
                    document.getElementById('csrfToken').value = csrfToken;
                } else {
                    // Fallback token generation
                    const token = generateSimpleToken();
                    document.getElementById('csrfToken').value = token;
                }
            }

            // Simple token generation fallback
            function generateSimpleToken() {
                return 'csrf-' + Date.now() + '-' + Math.random().toString(36).substring(2, 15);
            }

            // Check if user is already logged in
            function checkIfAlreadyLoggedIn() {
                const user = localStorage.getItem('user');
                if (user) {
                    // Redirect to home or dashboard
                    window.location.href = 'index.html';
                }
            }

            // Load login state from localStorage
            function loadLoginState() {
                const savedState = localStorage.getItem('loginState');
                if (savedState) {
                    try {
                        const state = JSON.parse(savedState);
                        loginState.loginAttempts = state.loginAttempts || 0;
                        loginState.lastAttemptTime = state.lastAttemptTime || null;
                        
                        // Check if lockout has expired
                        if (loginState.lastAttemptTime) {
                            const timeSinceLastAttempt = Date.now() - loginState.lastAttemptTime;
                            if (timeSinceLastAttempt > loginState.lockoutTime) {
                                resetLoginAttempts();
                            } else if (loginState.loginAttempts >= loginState.maxAttempts) {
                                lockAccount(loginState.lockoutTime - timeSinceLastAttempt);
                            }
                        }
                        
                        updateRateLimitDisplay();
                    } catch (e) {
                        console.error('Error loading login state:', e);
                    }
                }
            }

            // Save login state to localStorage
            function saveLoginState() {
                localStorage.setItem('loginState', JSON.stringify({
                    loginAttempts: loginState.loginAttempts,
                    lastAttemptTime: loginState.lastAttemptTime
                }));
            }

            // Reset login attempts
            function resetLoginAttempts() {
                loginState.loginAttempts = 0;
                loginState.lastAttemptTime = null;
                loginState.isLocked = false;
                saveLoginState();
                updateRateLimitDisplay();
            }

            // Update rate limit display
            function updateRateLimitDisplay() {
                const warningDiv = document.getElementById('rateLimitWarning');
                const attemptsDisplay = document.getElementById('attemptsRemaining');
                const remaining = loginState.maxAttempts - loginState.loginAttempts;

                if (loginState.loginAttempts > 0 && remaining > 0) {
                    attemptsDisplay.textContent = remaining;
                    warningDiv.classList.add('show');
                } else {
                    warningDiv.classList.remove('show');
                }
            }

            // Lock account
            function lockAccount(remainingTime) {
                loginState.isLocked = true;
                const loginButton = document.getElementById('loginButton');
                const warningDiv = document.getElementById('rateLimitWarning');
                const messageEl = document.getElementById('rateLimitMessage');
                
                loginButton.disabled = true;
                warningDiv.classList.add('show');
                
                const minutes = Math.ceil(remainingTime / 60000);
                messageEl.innerHTML = `<i class="fas fa-lock"></i> Account temporarily locked. Please try again in ${minutes} minute(s).`;
                
                // Set timeout to unlock
                setTimeout(() => {
                    resetLoginAttempts();
                    loginButton.disabled = false;
                    messageEl.innerHTML = `You have <strong id="attemptsRemaining">${loginState.maxAttempts}</strong> login attempts remaining`;
                }, remainingTime);
            }

            // Initialize login form
            function initializeLoginForm() {
                const form = document.getElementById('loginForm');
                const togglePassword = document.getElementById('togglePassword');
                const passwordInput = document.getElementById('loginPassword');
                const emailInput = document.getElementById('loginEmail');

                // Password toggle
                togglePassword.addEventListener('click', function() {
                    const type = passwordInput.type === 'password' ? 'text' : 'password';
                    passwordInput.type = type;
                    const icon = document.getElementById('toggleIcon');
                    icon.classList.toggle('fa-eye');
                    icon.classList.toggle('fa-eye-slash');
                });

                // Real-time validation
                emailInput.addEventListener('blur', function() {
                    validateEmail(this.value);
                });

                passwordInput.addEventListener('blur', function() {
                    validatePassword(this.value);
                });

                // Form submission
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    handleLogin();
                });

                // Social login buttons
                document.getElementById('googleLogin').addEventListener('click', function() {
                    handleSocialLogin('google');
                });

                document.getElementById('facebookLogin').addEventListener('click', function() {
                    handleSocialLogin('facebook');
                });
            }

            // Validate email
            function validateEmail(email) {
                const emailError = document.getElementById('emailError');
                const emailInput = document.getElementById('loginEmail');
                
                // Sanitize input
                const sanitized = sanitizeInput(email);
                
                if (!sanitized || sanitized.length < 3) {
                    emailInput.classList.add('error');
                    emailError.classList.add('show');
                    return false;
                }
                
                emailInput.classList.remove('error');
                emailError.classList.remove('show');
                return true;
            }

            // Validate password
            function validatePassword(password) {
                const passwordError = document.getElementById('passwordError');
                const passwordInput = document.getElementById('loginPassword');
                
                if (!password || password.length < 8) {
                    passwordInput.classList.add('error');
                    passwordError.classList.add('show');
                    return false;
                }
                
                passwordInput.classList.remove('error');
                passwordError.classList.remove('show');
                return true;
            }

            // Sanitize input
            function sanitizeInput(input) {
                if (typeof window.Security !== 'undefined' && window.Security.sanitizeInput) {
                    return window.Security.sanitizeInput(input);
                }
                // Fallback sanitization
                return input.trim().replace(/[<>]/g, '');
            }

            // Handle login
            async function handleLogin() {
                // Check if locked
                if (loginState.isLocked) {
                    alert('Account is temporarily locked. Please try again later.');
                    return;
                }

                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                const rememberMe = document.getElementById('rememberMe').checked;
                const csrfToken = document.getElementById('csrfToken').value;

                // Validate inputs
                const isEmailValid = validateEmail(email);
                const isPasswordValid = validatePassword(password);

                if (!isEmailValid || !isPasswordValid) {
                    return;
                }

                // Show loading state
                const loginButton = document.getElementById('loginButton');
                loginButton.classList.add('loading');
                loginButton.disabled = true;

                try {
                    // Sanitize inputs
                    const sanitizedEmail = sanitizeInput(email);
                    const sanitizedPassword = password; // Don't sanitize password content

                    // Call auth API - ensure Auth service is available
                    if (typeof window.Auth === 'undefined' || !window.Auth.login) {
                        throw new Error('Authentication service not available. Please refresh the page.');
                    }

                    const result = await window.Auth.login({
                        email: sanitizedEmail,
                        password: sanitizedPassword,
                        rememberMe: rememberMe
                    });

                    // AuthService handles token and user data storage internally
                    // Reset attempts on successful login
                    resetLoginAttempts();

                    // Show success message
                    alert('Login successful! Welcome back.');
                    
                    // Redirect
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1000);
                } catch (error) {
                    // Increment attempts
                    loginState.loginAttempts++;
                    loginState.lastAttemptTime = Date.now();
                    saveLoginState();
                    updateRateLimitDisplay();

                    // Check if should lock
                    if (loginState.loginAttempts >= loginState.maxAttempts) {
                        lockAccount(loginState.lockoutTime);
                    }

                    // Show error
                    alert(error.message || 'Login failed. Please check your credentials.');
                } finally {
                    // Hide loading state
                    loginButton.classList.remove('loading');
                    loginButton.disabled = false;
                }
            }

            // Handle social login
            function handleSocialLogin(provider) {
                alert(`Social login with ${provider} is not yet implemented. This feature will be available soon!`);
                // In production, integrate with OAuth providers
                console.log(`Initiating ${provider} login...`);
            }
        })();
    </script>
</body>
</html>
